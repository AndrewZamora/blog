---
title: Getting Started with Vuex
date: "2021-08-15T06:47:34.984Z"
description: An introduction to managing global state with Vuex
---

## Create a Store

```javascript
import Vue from "vue"
import Vuex from "vuex"

Vue.use(Vuex)

const store = new Vuex.Store({
  state: {},
  mutations: {},
  actions: {},
  modules: {},
})
```

A store can be created in separate file and exported like below:

```javascript
export default new Vuex.Store({
  state: {},
  mutations: {},
  actions: {},
  modules: {},
})
```

## Make the Store Accessible

The store needs to be added to the Vue instance in order to get state in Vue components.

```javascript
new Vue({
  el: "#app",
  store,
})
```

If the store is being exported from a separate file it will need to be imported. Here is an example from a Vue app generated by the [Vue CLI]("https://cli.vuejs.org/").

```javascript
import Vue from "vue"
import App from "./App.vue"
import store from "./PATH_TO_STORE_FILE"

new Vue({
  store,
  render: h => h(App),
}).$mount("#app")
```

## Get State from the Store

To demonstrate how to retrieve state from the store I will add some test data to the `state` object first.

```javascript
const store = new Vuex.Store({
  state: {
    username: "Random Person",
    age: 100,
    favoriteFoods: ["🌮", "🍤", "🍦"],
  },
  mutations: {},
  actions: {},
  modules: {},
})
```

Now that the store is initialized, the state can be called in a Vue component with `this.$store.state` like so:

```javascript
<template>
  <div id="app">
    {{this.$store.state}}
  </div>
</template>
```

## Change the State

The state cannot be changed by directly mutating the state object.

```javascript
// Don't do this!
const newObj = {}
this.$store.state = newObj
```

Methods set in the `mutations` field of the Vuex store are used to change state.

```javascript
const store = new Vuex.Store({
  state: {
    username: "Random Person",
    age: 100,
    favoriteFoods: ["🌮", "🍤", "🍦"],
  },
  mutations: {
    likeMoreFood(state, newFood) {
      state.favoriteFoods.push(newFood)
    },
  },
  actions: {},
  modules: {},
})
```

To trigger a `mutations` method a commit is used in a Vue component.

```javascript
// this.$store.commit("METHOD_NAME", PAYLOAD)
this.$store.commit("likeMoreFood", "🍕")
```

_All mutations need to be synchronous._

## Change State Asynchronously

Asynchronous changes, such as callbacks and fetch requests, happen in the methods in the store's `actions` object.

```javascript
...
  actions: {
     const fakeFetch = async function () {
      //  Async functions return a Promise
        return "🌯";
      };
      const newFood = await fakeFetch();
      context.commit("likeMoreFood", newFood);
  },
});
...
```

To trigger `actions` methods dispatches are used in Vue components.

```javascript
this.$store.dispatch("asyncLikeMoreFood");
```
